<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.13"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Seismo-VLAB: Support Motion</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
		<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="Style.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">Seismo-VLAB
								&#160;<span id="projectnumber">1.3</span>
							</div>
							<div id="projectbrief">An Open-Source Finite Element Software for Meso-Scale Simulations</div>
						</td>
						<td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('linkSupportMotion.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Support Motion </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Background</h1>
<p>Supports in a structure are members which helps to resist external and internal loads. Supports transfers the load to the ground and provides stability to the structure. Figure shows schematically a portal frame structure whose support at <a class="el" href="classNode.html" title="Class for creating a node in space that handles coordinates, state variables, free and total degrees-...">Node</a> (4) undergoes motion.</p>
<div class="image">
<img src="SupportMotion.png" alt="SupportMotion.png" width="27%"/>
</div>
<p><a class="el" href="linkSupportMotion.html">Support Motion</a> force effects in <b>SVL</b> are computed in two levels:</p>
<ul>
<li><a class="el" href="classAssembler.html#ab1c1218154138eeb898a6bdc4f5c4324" title="Assemble the support motion displacement vector. ">Assembler::ComputeSupportMotionIncrement()</a><br />
 This function assembles the incremental ground motion ( \(\Delta g\)) that is applied to restrained degree-of-freedom for a given time step.</li>
<li><a class="el" href="classIntegrator.html#ae94b39eb6bfd81071cf74d234964fe34" title="Gets the incremental nodal support motion vector. ">Integrator::ComputeSupportMotionVector()</a><br />
 This function transforms the incremental ground motion into external forces ( \(\mathbf{K}_\textrm{eff}^{(i-1)} \Delta g\)) applied to the free degree-of-freedom.</li>
</ul>
<p>The <a class="el" href="linkSupportMotion.html">Support Motion</a> conditions in <b>SVL</b> are prescribed as inhomogeneous linear <a class="el" href="classConstraint.html" title="Class for creating a linear kinematic relations between degree-of-freedom in the model. ">Constraint</a>:</p>
<p class="formulaDsp">
\[ \textrm{U}_{n+1} = \mathbf{T}^\top \textrm{u}_{n+1} + G_{n+1} \,, \]
</p>
<p>where \(\textrm{U} \in \mathbb{R}^{N_{\textrm{total}}}\) the displacements for the total degree-of-freedom, \(\textrm{u} \in \mathbb{R}^{N_{\textrm{free}}}\) the displacements for the free-degree-of-freedom (i.e., degree of freedom after being fixed and constrained), and \(G \in \mathbb{R}^{N_{\textrm{total}}}\) the vector of support motions, and \(n+1\) the time step.</p>
<p>The incremental form of the previous equation yields,</p>
<p class="formulaDsp">
\[ \Delta \textrm{U} = \mathbf{T}^\top \Delta \textrm{u} + \Delta g \,, \]
</p>
<p>where \(\Delta g = G_{n+1} - G_n\) is the incremental support motion, and the displacement \(\textrm{U}_{n+1} = \textrm{U}_{n} + \Delta \textrm{U} = \textrm{U}_{n} + \mathbf{T}^\top \Delta \textrm{u} + \Delta g\).</p>
<p>The non-linear incremental form of the equilibrium equations, i.e., <a class="el" href="linkStaticAnalysis.html">StaticAnalysis</a> and <a class="el" href="linkDynamicAnalysis.html">DynamicAnalysis</a>, is written as</p>
<p class="formulaDsp">
\[ \mathbf{K}_\textrm{eff}^{(i-1)} \Delta \textrm{U}^{(i)} = \mathbf{F}_\textrm{eff} \]
</p>
<p>Replacing both equation, the non-linear incremental form of the equilibrium equations with support motion is:</p>
<p class="formulaDsp">
\[ \mathbf{T}^\top \,\mathbf{K}_\textrm{eff}^{(i-1)}\, \mathbf{T} \Delta \textrm{u}^{(i)} = \mathbf{T}^\top \left( \mathbf{F}_\textrm{eff} - \mathbf{K}_\textrm{eff}^{(i-1)} \Delta g\right) \]
</p>
<p><b>REFERENCE:</b></p><ul>
<li>Carlos Felippa. "Introduction to Finite Element Methods (ASEN 5007)": Multifreedom Constraints I, Fall 2005.</li>
</ul>
<h1>Pre-Analysis</h1>
<p>The python <a class="el" href="linkSoftwareStructure.html#linkPreProcess">Pre-Analysis</a> in the <span style="color:green"><b>01-Pre_Process/Method/Attach.py</b></span> file provides with an interface to create a support motion. We use the <span style="color:blue"><b>addSupportMotion()</b></span> as follows:</p>
<ul>
<li><p class="startli"><span style="color:blue"><b>addSupportMotion</b></span>(<b>tag</b>, <b>attributes</b>):</p><ul>
<li><span style="color:green"><b>tag</b></span> : The identifier of the restrained node, i.e., tag &gt; 1 to apply the support motion</li>
<li><span style="color:green"><b>attributes</b></span> : Dictionary containing the support motion action on a Nodes in a direction<ul>
<li><span style="color:blue">'type'</span> : Constant or TimeSerie</li>
<li><span style="color:blue">'value'</span> : Displacement value if type=static</li>
<li><span style="color:blue">'file'</span> : Displacement time series file if type=dynamic</li>
<li><span style="color:blue">'dof'</span> : Degree of freedom to apply the support motion</li>
</ul>
</li>
</ul>
<p class="startli">The file format specified at <b>attributes</b>[<span style="color:blue">'file'</span>]='Ricker.txt' must have the structure shown in the figure: </p><div class="image">
<img src="PointLoadFile.png" alt="PointLoadFile.png" width="22%"/>
</div>
<p class="startli"><b>Example</b> </p><blockquote class="doxtable">
<p>A <b>SUPPORT MOTION</b> can be defined using the python interface as follows:<br />
SVL.addSupportMotion(<b>tag</b>=708, <b>attributes</b>={'file': 'Ricker.txt', 'type': 'TimeSerie', 'dof': 1}) </p>
</blockquote>
<p class="startli"><b>Application</b><br />
 Please refer to the <b>A06-DY_Lin_1DPointMass_Elastic_ZeroLength_SupportMotion.py</b> file located at <span style="color:green"><b>03-Validations/01-Debugging/</b></span> to see an example on how to define a support motion.</p>
</li>
</ul>
<p>On the contrary, the <span style="color:green"><b>01-Pre_Process/Method/Remove.py</b></span> file provides with an interface to depopulate the <code>Entities</code> dictionary. For example, to remove an already define support motion, use:</p><ul>
<li><span style="color:blue"><b>delSupportMotion</b></span>(<b>tag</b>):<ul>
<li><span style="color:green"><b>tag</b></span> : The identifier of the restrained node where the support motion was applied, i.e., tag &gt; -1</li>
</ul>
</li>
</ul>
<h1>Run-Analysis</h1>
<p>The C++ <a class="el" href="linkSoftwareStructure.html#linkRunProcess">Run-Analysis</a> in the <span style="color:green"><b>02-Run_Process/07-Assembler/Assembler.cpp</b></span> and <span style="color:green"><b>02-Run_Process/10-Integrators/Integrators.cpp</b></span> files provides with the implementation. A <a class="el" href="linkSupportMotion.html">Support Motion</a> is created using the built-in json parse-structure provided in the <a class="el" href="Parser_8hpp.html">Parser.hpp</a> and is defined inside the <span style="color:black"><b>"Supports"</b></span> json field indicating its <span style="color:blue"><b>"Tag"</b></span>.</p>
<ul>
<li>A <a class="el" href="linkSupportMotion.html">Support Motion</a> for <a class="el" href="classDynamicAnalysis.html" title="Class for creating a dynamic analysis and updating the states variables in mesh. ">DynamicAnalysis</a> can be created using the built-in parse-structure provided in the Parser as, <pre style="padding: 0px; color: black; background-color: white; border: white 0px solid">
{
    <span style="color:black"><b>"Supports"</b></span>: {
        <span style="color:blue"><b>"Tag"</b></span>: {
            <span style="color:green"><b>"type"</b></span>: "CONSTANT",
            <span style="color:green"><b>"value"</b></span>: [ ],
            <span style="color:green"><b>"dof"</b></span>: [ ]
        }
    }
}
</pre> <table class="doxtable">
<tr>
<th>Variable </th><th>Description  </th></tr>
<tr>
<td><code>Tag</code> </td><td>The <a class="el" href="classNode.html" title="Class for creating a node in space that handles coordinates, state variables, free and total degrees-...">Node</a> identifier to applied the support motion. </td></tr>
<tr>
<td><code>value</code> </td><td>The magnitude of the support motion. </td></tr>
<tr>
<td><code>dof</code> </td><td>The degree-of-freedom to apply the support motion. </td></tr>
</table>
<b>Example</b> <blockquote class="doxtable">
<p>A static <b>SUPPORT MOTION</b> of 0.5 applied at node 5 along the degree-of-freedom 0 is created as: <br />
 { "Supports": { "5": { "type" : "CONSTANT", "value": [0.5] "dof": [0] } } } </p>
</blockquote>
</li>
<li>A <a class="el" href="linkSupportMotion.html">Support Motion</a> for <a class="el" href="classDynamicAnalysis.html" title="Class for creating a dynamic analysis and updating the states variables in mesh. ">DynamicAnalysis</a> can be created using the built-in parse-structure provided in the Parser as, <pre style="padding: 0px; color: black; background-color: white; border: white 0px solid">
{
    <span style="color:black"><b>"Supports"</b></span>: {
        <span style="color:blue"><b>"Tag"</b></span>: {
            <span style="color:green"><b>"type"</b></span>: "TIMESERIE",
            <span style="color:green"><b>"file"</b></span>: [str],
            <span style="color:green"><b>"dof"</b></span>: [ ]
        }
    }
}
</pre> <table class="doxtable">
<tr>
<th>Variable </th><th>Description  </th></tr>
<tr>
<td><code>Tag</code> </td><td>The <a class="el" href="classNode.html" title="Class for creating a node in space that handles coordinates, state variables, free and total degrees-...">Node</a> identifier to applied the support motion. </td></tr>
<tr>
<td><code>file</code> </td><td>The file name where the time displacement support motion are obtained. </td></tr>
<tr>
<td><code>dof</code> </td><td>The degree-of-freedom to apply the support motion. </td></tr>
</table>
<b>Example</b> <blockquote class="doxtable">
<p>A dynamic <b>SUPPORT MOTION</b> applied at node 5 along the degree-of-freedom 0 is created as: <br />
 { "Supports": { "5": { "type" : "TIMESERIE", "file": ["/path/to/folder/load.in"] "dof": [0] } } } </p>
</blockquote>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="footer">
					Generated on Tue Jun 29 2021 18:48:01 for Seismo-VLAB by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>
