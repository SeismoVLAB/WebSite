<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.13"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Seismo-VLAB: Fib3DLineSection</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
		<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="Style.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">Seismo-VLAB
								&#160;<span id="projectnumber">1.3</span>
							</div>
							<div id="projectbrief">An Open-Source Finite Element Software for Meso-Scale Simulations</div>
						</td>
						<td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('linkFib3DLineSection.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="classFib3DLineSection.html" title="Class for creating a generic fiber section for 3D analysis with linear/nonlinear material for a frame...">Fib3DLineSection</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Background</h1>
<p>The <code>FIB3DLINESECTION</code> (or <code>FIB2DLINESECTION</code>) class creates a fiber line <a class="el" href="classSection.html" title="Virtual class for creating a section object. ">Section</a> class that have different behavior at each Fiber. In general, a Fib2DLineSection or <a class="el" href="classFib3DLineSection.html" title="Class for creating a generic fiber section for 3D analysis with linear/nonlinear material for a frame...">Fib3DLineSection</a> can represent the geometry of any cross section.</p>
<div class="image">
<img src="FiberRectangular.png" alt="FiberRectangular.png" width="80%"/>
</div>
<p>The section properties are:</p><ul>
<li>Area properties: \(A = \sum_{k=1}^{n_f} A_k\)</li>
<li>Inertia properties: \(I_{22} = \sum_{k=1}^{n_f} A_k \left( x_3^k - \bar{x}_3 \right)^2 \,, \; I_{33} = \sum_{k=1}^{n_f} A_k \left( x_2^k - \bar{x}_2 \right)^2\)</li>
<li>Geometric center from bottom left corner (point of reference): \(\bar{x}_3 = \displaystyle{\frac{ \sum_{k=1}^{n_f} A_k\,E_k\, x_3^k}{\sum_{k=1}^{n_f} A_k\,E_k}}\), and \(\bar{x}_2 = \displaystyle{\frac{ \sum_{k=1}^{n_f} A_k\,E_k\, x_2^k}{\sum_{k=1}^{n_f} A_k\,E_k}}\)</li>
</ul>
<p><b>REFERENCE:</b></p><ul>
<li>Dae Hung Kang, Gary Haussmann, and Victor Saouma. "An Optimized Computational Environment for Real Time Hybrid Simulation" (draft), Department of Civil Environmental and Architectural Engineering University of Colorado, August 31, 2009</li>
<li>Fabio F. Taucer, Enrico Spacone, and Filip C. Filippou. "A Fiber Beam-Column Element for Seismic Response Analysis of Reinforced Concrete Structures", Report No. UCB/EERC-91/17 Earthquake Engineering Research Center College of Engineering University of California, Berkeley, December 1991.</li>
</ul>
<h1>Pre-Analysis</h1>
<p>The python <a class="el" href="linkSoftwareStructure.html#linkPreProcess">Pre-Analysis</a> in the <span style="color:green"><b>01-Pre_Process/Method/Attach.py</b></span> file provides with an interface to create a general fiber section. For example the <b>Patch</b> and <b>Layer</b> allow to construct any general section geometry.</p>
<ul>
<li><p class="startli">Define a <b>RECTANGULAR PATCH</b> using the following dictionary structure, </p><pre style="padding: 0px; color: black; background-color: white; border: white 0px solid">
<span style="color:black"><b>"patch"</b></span>: {
      <span style="color:blue"><b>"Tag"</b></span>: {
          <span style="color:green"><b>'name'</b></span> : 'RECTANGULAR',
          <span style="color:green"><b>'fiber'</b></span> : int,
          <span style="color:green"><b>'nfibz'</b></span> : int,
          <span style="color:green"><b>'nfiby'</b></span> : int,
          <span style="color:green"><b>'coords'</b></span> : [[z1,y1],[z2,y2]]
      }
}
</pre><p> where <span style="color:green"><b>'fiber'</b></span> is the fiber identifier the patch is made of, <span style="color:green"><b>'coords'</b></span> is a list with the coordinates of the lower-left corner and the upper-right corner, <span style="color:green"><b>'nfibz'</b></span> and <span style="color:green"><b>'nfiby'</b></span> the number of fibers in \(x_3\) and \(x_2\) respectively.</p>
<p class="startli"><b>Example</b> </p><blockquote class="doxtable">
<p>Create the reinforced concrete layers showed in figure above<br />
<b>patch</b> = {<br />
 '1': {'name': 'RECTANGULAR', 'fiber': 1, 'nfibz': 5,'nfiby': 30, 'coords': [[z1,y1],[z2,y2]]}, <br />
 '2': {'name': 'RECTANGULAR', 'fiber': 2, 'nfibz': 3,'nfiby': 5, 'coords': [[z3,y3],[z4,y4]]}, <br />
 '3': {'name': 'RECTANGULAR', 'fiber': 2, 'nfibz': 3,'nfiby': 5, 'coords': [[z5,y5],[z6,y6]]} <br />
} </p>
</blockquote>
</li>
<li>Define a <b>CIRCULAR PATCH</b> using the following dictionary structure, <pre style="padding: 0px; color: black; background-color: white; border: white 0px solid">
<span style="color:black"><b>"patch"</b></span>: {
      <span style="color:blue"><b>"Tag"</b></span>: {
          <span style="color:green"><b>'name'</b></span> : 'CIRCULAR',
          <span style="color:green"><b>'fiber'</b></span> : int,
          <span style="color:green"><b>'nfibr'</b></span> : int,
          <span style="color:green"><b>'nfibt'</b></span> : int,
          <span style="color:green"><b>'center'</b></span> : [zc, yc],
          <span style="color:green"><b>'coords'</b></span> : [[r1,t1],[r2,t2]]
      }
}
</pre> where <span style="color:green"><b>'fiber'</b></span> is the fiber identifier the patch is made of, <span style="color:green"><b>'coords'</b></span> is a list with the coordinates of the lower-left corner and the upper-right corner, <span style="color:green"><b>'nfibr'</b></span> and <span style="color:green"><b>'nfibt'</b></span> the number of fibers in radial and angular direction respectively.</li>
<li><p class="startli">Define a <b>LINE LAYER</b> using the following dictionary structure, </p><pre style="padding: 0px; color: black; background-color: white; border: white 0px solid">
<span style="color:black"><b>"layer"</b></span>: {
      <span style="color:blue"><b>"Tag"</b></span>: {
          <span style="color:green"><b>'name'</b></span> : 'LINE',
          <span style="color:green"><b>'fiber'</b></span>: int,
          <span style="color:green"><b>'nfib'</b></span> : int,
          <span style="color:green"><b>'area'</b></span> : double,
          <span style="color:green"><b>'coords'</b></span> : [[z1,y1],[z2,y2]]
      }
}
</pre><p> where <span style="color:green"><b>'fiber'</b></span> is the fiber identifier the layer is made of, <span style="color:green"><b>'coords'</b></span> is a list with the coordinates of the initial and end points of the line, <span style="color:green"><b>'nfib'</b></span> the number of fibers layers along the line.</p>
<p class="startli"><b>Example</b> </p><blockquote class="doxtable">
<p>Create the steel layers showed in figure above <br />
<b>layer</b> = {<br />
 '1': {'name': 'LINE', 'fiber': 3, 'nfib': 3, 'area': 1.0, 'coords': [[z1,y1],[z2,y1]]},<br />
 '2': {'name': 'LINE', 'fiber': 3, 'nfib': 2, 'area': 1.0, 'coords': [[z1,y2],[z2,y2]]},<br />
 '3': {'name': 'LINE', 'fiber': 3, 'nfib': 2, 'area': 1.0, 'coords': [[z1,y3],[z2,y3]]},<br />
 '4': {'name': 'LINE', 'fiber': 3, 'nfib': 3, 'area': 1.0, 'coords': [[z1,y4],[z2,y4]]}<br />
} </p>
</blockquote>
</li>
<li>Define a <b>ARCH LAYER</b> using the following dictionary structure, <pre style="padding: 0px; color: black; background-color: white; border: white 0px solid">
<span style="color:black"><b>"layer"</b></span>: {
      <span style="color:blue"><b>"Tag"</b></span>: {
          <span style="color:green"><b>'name'</b></span> : 'ARCH',
          <span style="color:green"><b>'fiber'</b></span>: int,
          <span style="color:green"><b>'nfib'</b></span> : int,
          <span style="color:green"><b>'area'</b></span> : double,
          <span style="color:green"><b>'radius'</b></span>: double,
          <span style="color:green"><b>'angle'</b></span> : [t1,t2],
          <span style="color:green"><b>'center'</b></span> : [zc, yc]
      }
}
</pre> where <span style="color:green"><b>'fiber'</b></span> is the fiber identifier the layer is made of, <span style="color:green"><b>'coords'</b></span> is a list with the coordinates of the initial and end points of the line, <span style="color:green"><b>'nfib'</b></span> the number of fibers layers along the line.</li>
</ul>
<p>This information is then used to create a Fib2DLineSection or <a class="el" href="classFib3DLineSection.html" title="Class for creating a generic fiber section for 3D analysis with linear/nonlinear material for a frame...">Fib3DLineSection</a> section using json format as follows:</p>
<ul>
<li><p class="startli"><span style="color:blue"><b>addSection</b></span>(<b>tag</b>, <b>name</b>='<a class="el" href="classFib3DLineSection.html" title="Class for creating a generic fiber section for 3D analysis with linear/nonlinear material for a frame...">Fib3DLineSection</a>', <b>model</b>='Fiber', <b>attributes</b>):</p><ul>
<li><span style="color:green"><b>tag</b></span> : The identifier of this section, i.e., tag &gt; -1</li>
<li><span style="color:green"><b>name</b></span> : Seismo-VLAB section class name</li>
<li><span style="color:green"><b>model</b></span> : model of the section, i.e., model=plain,fiber</li>
<li><span style="color:green"><b>attributes</b></span> : Specific properties for the created section, for example<ul>
<li><span style="color:blue">'h'</span> : is the hight of the inscribed rectangle that contains the section.<br />
</li>
<li><span style="color:blue">'b'</span> : is the width of the inscribed rectangle that contains the section.<br />
</li>
<li><span style="color:blue">'kappa2'</span> : is the cross section shear factor (As2/A) along x2 local axis.<br />
</li>
<li><span style="color:blue">'kappa3'</span> : is the cross section shear factor (As3/A) along x3 local axis.<br />
</li>
<li><span style="color:blue">'patch'</span> : is dictionary that contains the patches that form the section.<br />
</li>
<li><span style="color:blue">'layer'</span> : is dictionary that contains the layers that form the section.<br />
</li>
<li><span style="color:blue">'ip'</span> : is the section insertion point.<br />
</li>
<li><span style="color:blue">'theta'</span> : is The section rotation angle about axis 1.</li>
</ul>
</li>
</ul>
<p class="startli"><b>Example</b> </p><blockquote class="doxtable">
<p>A <b>FIB3DLINESECTION</b> section can be defined using the python interface as follows:<br />
SVL.addSection(<b>tag</b>=1, <b>name</b>='<a class="el" href="classLin2DRectangular.html" title="Class for creating a solid rectangular section for 2D analysis with linear elastic material for a fra...">Lin2DRectangular</a>', <b>model</b>='Plain', <b>attributes</b>={'b': 0.25, 'h': 0.75, 'patch': patch, 'layer': layer}) </p>
</blockquote>
<p class="startli"><b>Application</b><br />
 Please refer to the <b>D24-DY_WideFlange_Linear_Fiber_Section_Frame2.py</b> or <b>D25-DY_WideFlange_NonLinear_Fiber_Section_Frame2.py</b> files located at <span style="color:green"><b>03-Validations/01-Debugging/</b></span> to see an example on how to define a <a class="el" href="classFib3DLineSection.html" title="Class for creating a generic fiber section for 3D analysis with linear/nonlinear material for a frame...">Fib3DLineSection</a> section.</p>
</li>
</ul>
<p>On the contrary, the <span style="color:green"><b>01-Pre_Process/Method/Remove.py</b></span> file provides with an interface to depopulate the <code>Entities</code> dictionary. For example, to remove an already define <a class="el" href="classSection.html" title="Virtual class for creating a section object. ">Section</a>, use:</p><ul>
<li><span style="color:blue"><b>delSection</b></span>(<b>tag</b>):<ul>
<li><span style="color:green"><b>tag</b></span> : The identifier of the section to be removed, i.e., tag &gt; -1</li>
</ul>
</li>
</ul>
<h1>Run-Analysis</h1>
<p>The C++ <a class="el" href="linkSoftwareStructure.html#linkRunProcess">Run-Analysis</a> in the <span style="color:green"><b>02-Run_Process/03-Sections/01-Plain/Lin3DRectangular.cpp</b></span> file provides the class implementation. A <a class="el" href="classLin3DRectangular.html" title="Class for creating a solid rectangular section for 3D analysis with linear elastic material for a fra...">Lin3DRectangular</a> section is created using the built-in json parse-structure provided in the <a class="el" href="Parser_8hpp.html">Parser.hpp</a>. A <a class="el" href="classLin3DRectangular.html" title="Class for creating a solid rectangular section for 3D analysis with linear elastic material for a fra...">Lin3DRectangular</a> is defined inside the <span style="color:black"><b>"Sections"</b></span> json field indicating its <span style="color:blue"><b>"Tag"</b></span> as follows,</p><ul>
<li><pre style="padding: 0px; color: black; background-color: white; border: white 0px solid">
{
    <span style="color:black"><b>"Sections"</b></span>: {
        <span style="color:blue"><b>"Tag"</b></span>: {
            <span style="color:green"><b>"name"</b></span> : "FIB3DLINESECTION",
            <span style="color:green"><b>"model"</b></span> : "FIBER",
            <span style="color:green"><b>"attributes"</b></span>: {
                <span style="color:maroon"><b>"zi"</b></span>: [ ],
                <span style="color:maroon"><b>"yi"</b></span>: [ ],
                <span style="color:maroon"><b>"Ai"</b></span>: [ ],
                <span style="color:maroon"><b>"fiber"</b></span>: [ ],
                <span style="color:maroon"><b>"kappa2"</b></span>: double,
                <span style="color:maroon"><b>"kappa3"</b></span>: double,
                <span style="color:maroon"><b>"ip"</b></span>: int,
                <span style="color:maroon"><b>"theta"</b></span>: double
            }
        }
    }
}
</pre> <table class="doxtable">
<tr>
<th>Variable </th><th>Description  </th></tr>
<tr>
<td><code>Tag</code> </td><td>Unique <a class="el" href="classSection.html" title="Virtual class for creating a section object. ">Section</a> object identifier. </td></tr>
<tr>
<td><code>zi</code> </td><td>Vector with the \(x_3\) coordinate of each fiber. </td></tr>
<tr>
<td><code>yi</code> </td><td>Vector with the \(x_2\) coordinate of each fiber. </td></tr>
<tr>
<td><code>Ai</code> </td><td>Vector with the area of each fiber. </td></tr>
<tr>
<td><code>kappa2</code> </td><td>Cross section shear factor along x2 local axis </td></tr>
<tr>
<td><code>kappa3</code> </td><td>Cross section shear factor along x2 local axis </td></tr>
<tr>
<td><code>ip</code> </td><td>The insertion point, see <a class="el" href="linkSectionInsertionPoint.html">Insertion Point</a>. </td></tr>
<tr>
<td><code>theta</code> </td><td>The section rotation angle, see <a class="el" href="linkSectionLocalAxis.html">Local Axes</a>. </td></tr>
<tr>
<td><code>fiber</code> </td><td>Vector of identifier of each fiber. </td></tr>
</table>
<br />
<dl class="section attention"><dt>Attention</dt><dd>The stress/strain coordinates at <a class="el" href="classSection.html#a1c700c5934a89ef66d60ce9c6f003561" title="Returns the section strain at given position. ">Section::GetStrainAt()</a> or <a class="el" href="classSection.html#ae767384094272d5c375e7b1390e18c35" title="Returns the section stress at given position. ">Section::GetStressAt()</a> must be refereed to the point of reference shown in figure, and it will return the fiber that is closest to it. </dd>
<dd>
If stress/strain are evaluated outside the section domain, the response is zero. </dd>
<dd>
If not specified <code>ip</code>=10 and <code>theta</code>=0.0</dd></dl>
<b>Example</b> <blockquote class="doxtable">
<p>A <b>FIB3DLINESECTION</b> section of height 0.75, width 0.25 and made of fiber 1 and discretized in three areas is defined: <br />
 { "Sections": { "1": { "name" : "FIB3DLINESECTION", "model": "FIBER", "attributes": { "h" : 0.75, "b" : 0.25, "zi" : [0.125, 0.125, 0.125], "yi" : [0.125, 0.375, 0.625], "Ai" : [0.0625, 0.0625, 0.0625], "fiber": [1,1,1] } } } }</p>
</blockquote>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="footer">
					Generated on Fri May 28 2021 10:43:26 for Seismo-VLAB by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>
