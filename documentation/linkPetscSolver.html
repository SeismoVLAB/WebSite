<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.13"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Seismo-VLAB: PetscSolver</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
		<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="Style.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">Seismo-VLAB
								&#160;<span id="projectnumber">1.3</span>
							</div>
							<div id="projectbrief">An Open-Source Finite Element Software for Meso-Scale Simulations</div>
						</td>
						<td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('linkPetscSolver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="classPetscSolver.html" title="Class for solving a linear system using an iterative solver assuming the matrix can be symmetric posi...">PetscSolver</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Background</h1>
<p>The <a class="el" href="classPetscSolver.html" title="Class for solving a linear system using an iterative solver assuming the matrix can be symmetric posi...">PetscSolver</a> keyword creates an iterative Solver class that solves the system of equations provided with \(\textbf{K}_{\textrm{eff}}\). This solver can be employed to symmetric and positive-definite matrix structure using conjugate gradient method, or for unsymmetric matrix using bi-conjugate gradient method. This solver is applicable to sparse systems that are too large to be handled by a direct implementation or other direct methods such as the Cholesky decomposition.</p>
<p><b>REFERENCE:</b></p><ul>
<li>Kris Buschelman, Lisandro Dalcin, Alp Dener, Victor Eijkhout, William D. Gropp, Dmitry Karpeyev, Dinesh Kaushik, Matthew G. Knepley, Dave A. May, Lois Curfman McInnes, Richard Tran Mills, Todd Munson, Karl Rupp, Patrick Sanan, Barry F. Smith, Stefano Zampini, Hong Zhang, and Hong Zhang. PETSc Web page. <a href="https://www.mcs.anl.gov/petsc,">https://www.mcs.anl.gov/petsc,</a> 2019. URL <a href="https://www.mcs.anl.gov/petsc">https://www.mcs.anl.gov/petsc</a></li>
<li>Satish Balay, Shrirang Abhyankar, Mark F. Adams, Jed Brown, Peter Brune, Kris Buschelman, Lisandro Dalcin, Alp Dener, Victor Eijkhout, William D. Gropp, Dmitry Karpeyev, Dinesh Kaushik, Matthew G. Knepley, Dave A. May, Lois Curfman McInnes, Richard Tran Mills, Todd Munson, Karl Rupp, Patrick Sanan, Barry F. Smith, Stefano Zampini, Hong Zhang, and Hong Zhang. PETSc users manual. Technical Report ANL-95/11 - Revision 3.12, Argonne National Laboratory, 2019. URL <a href="https://www.mcs.anl.gov/petsc">https://www.mcs.anl.gov/petsc</a></li>
</ul>
<h1>Pre-Analysis</h1>
<p>The python <a class="el" href="linkSoftwareStructure.html#linkPreProcess">Pre-Analysis</a> in the <span style="color:green"><b>01-Pre_Process/Method/Attach.py</b></span> file provides with an interface to create a <a class="el" href="linkLinear.html">Linear</a>. We use the <span style="color:blue"><b>addSolver()</b></span> as follows:</p><ul>
<li><p class="startli"><span style="color:blue"><b>addSolver</b></span>(<b>tag</b>, <b>attributes</b>):</p><ul>
<li><span style="color:green"><b>tag</b></span> : The identifier of this solver, i.e., tag &gt; -1</li>
<li><span style="color:green"><b>attributes</b></span> : Specific properties for the created solver, for example<ul>
<li><span style="color:blue">'name'</span> : The solver's name, in this case <b>PETSC</b></li>
<li><span style="color:blue">'option'</span> : Solver's iterative method: '<b>KSPBCGS</b>', '<b>KSPBCGS</b>', '<b>KSPCGS</b>', '<b>KSPBICG</b>'.</li>
<li><span style="color:blue">'tol'</span> : Iteration tolerance for iterative solver</li>
</ul>
</li>
</ul>
<p class="startli"><b>Example</b> </p><blockquote class="doxtable">
<p>A <b>PETSC</b> solver can be defined using the python interface as follows:<br />
SVL.addSolver(<b>tag</b>=1, <b>attributes</b>={'name': 'PETSC', 'option': 'KSPBCGS', 'tol': 1E-12})<br />
</p>
</blockquote>
<p class="startli"><b>Application</b> Please refer to <b>C01-DY_Lin_2DCoarseMeshPML_MUMPS_ElasticPStrain_Quad4</b> file located at <span style="color:green"><b>03-Validations/01-Debugging/</b></span> to see an example on how to define a <b>PETSC</b> solver using the <span style="color:blue"><b>addSolver</b></span> function.</p>
</li>
</ul>
<p>On the contrary, the <span style="color:green"><b>01-Pre_Process/Method/Remove.py</b></span> file provides with an interface to depopulate the <code>Entities</code> dictionary. For example, to remove an already define Solver, use:</p><ul>
<li><span style="color:blue"><b>delSolver</b></span>(<b>tag</b>):<ul>
<li><span style="color:green"><b>tag</b></span> : The identifier of the solver to be removed, i.e., tag &gt; -1</li>
</ul>
</li>
</ul>
<h1>Run-Analysis</h1>
<p>The C++ <a class="el" href="linkSoftwareStructure.html#linkRunProcess">Run-Analysis</a> in the <span style="color:green"><b>02-Run_Process/11-Solvers/02-Iterative/PetscSolver.cc</b></span> file provides the class implementation. A <a class="el" href="linkPetscSolver.html">PetscSolver</a> is created using the built-in json parse-structure provided in the <a class="el" href="Parser_8hpp.html">Parser.hpp</a> and is defined inside the <span style="color:black"><b>"Simulations"</b></span> json field indicating its <span style="color:blue"><b>"Tag"</b></span> as follows,</p>
<p>A <a class="el" href="classPetscSolver.html" title="Class for solving a linear system using an iterative solver assuming the matrix can be symmetric posi...">PetscSolver</a> solver can be created using the built-in parse-structure provided in the Parser as, </p><pre style="padding: 0px; color: black; background-color: white; border: white 0px solid">
{
    <span style="color:black"><b>"Simulations"</b></span>: {
        <span style="color:blue"><b>"Tag"</b></span>: {
            <span style="color:green"><b>"attributes"</b></span>: {
                <span style="color:maroon"><b>"algorithm"</b></span>: {
                    <span style="color:orange"><b>"name"</b></span>: "PETSC",
                    <span style="color:orange"><b>"d_nz"</b></span>: int,
                    <span style="color:orange"><b>"o_nz"</b></span>: int,
                    <span style="color:orange"><b>"option"</b></span>: int,
                    <span style="color:orange"><b>"tol"</b></span>: double
                }
            }
        }
    }
}
</pre> <table class="doxtable">
<tr>
<th>Variable </th><th>Description  </th></tr>
<tr>
<td><code>option</code> </td><td>Positive number that represent the iterative method. The following methods are available:<ul>
<li>
Preconditioned Conjugate Gradient iterative method: 0</li>
<li>
Stabilized version of BiConjugate Gradient method: 1</li>
<li>
Conjugate Gradient Squared method: 2</li>
<li>
Biconjugate gradient iterative method: 3</li>
</ul>
</td></tr>
<tr>
<td><code>tol</code> </td><td>The maximum allowed convergence tolerance. </td></tr>
<tr>
<td><code>d_nz</code> </td><td>The maximum number of diagonal values in one row for each block partition. </td></tr>
<tr>
<td><code>o_nz</code> </td><td>The maximum number of off-diagonal values in one row for each block partition. </td></tr>
</table>
<p><br />
</p><dl class="section attention"><dt>Attention</dt><dd>This solver can be used for either serial or parallel applications. </dd>
<dd>
The method to be used depend on the structure of the \(\textbf{K}_{\textrm{eff}}\) matrix. For instance: symmetric and positive-definite use 0, for unsymmetric matrices use 3. </dd>
<dd>
When using PML elements, the \(\textbf{K}_{\textrm{eff}}\) matrix can become negative definite, then it is highly recomended to employ a Stabilized version of BiConjugate Gradient method. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="footer">
					Generated on Fri May 28 2021 20:18:40 for Seismo-VLAB by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>
