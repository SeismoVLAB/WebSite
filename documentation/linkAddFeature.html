<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.13"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Seismo-VLAB: Features</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
		<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="Style.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">Seismo-VLAB
								&#160;<span id="projectnumber">1.3</span>
							</div>
							<div id="projectbrief">An Open-Source Finite Element Software for Meso-Scale Simulations</div>
						</td>
						<td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('linkAddFeature.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Features </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A simple format for extendability and reusability of the <b>Seismo-VLAB</b> code is mandatory. We thus design the <b>Pre-Analysis</b> and <b>Run-Analysis</b> in such a way that very minor modification need to be performed. Let us consider the case that a new <a class="el" href="classElement.html" title="Virtual class for creating an element in a mesh. ">Element</a> is required to be added.</p>
<p>We know that in the <b>Pre-Analysis</b> the function SVL.<span style="color:blue"><b>addElement</b></span>(<b>tag</b>, <b>name</b>, <b>conn</b>, <b>attributes</b>) allows to append an <a class="el" href="classElement.html" title="Virtual class for creating an element in a mesh. ">Element</a> in the Entities dictionary. The variables <b>tag</b>, <b>name</b>, <b>conn</b> needs no modification, and new parameters required to construct the <a class="el" href="classElement.html" title="Virtual class for creating an element in a mesh. ">Element</a> can be added as fields in the <b>attributes</b>. For example, we want to create the element null3DAux12, that needs an area (10.0), a normal ([1.0,0.0,0.0]), and a charge (0.15), then we create this element as:</p>
<p>SVL.<span style="color:blue"><b>addElement</b></span>(<b>tag</b>=10, <b>name</b>=null3DAux12, <b>conn</b>=[1,2,3,...,11,12], <b>attributes</b>={'area': 10.0, "normal": [1.0,0,0], "charge"=0.15})</p>
<p>The <b>Pre-Analysis</b> will transform the <a class="el" href="classElement.html" title="Virtual class for creating an element in a mesh. ">Element</a> into json format as follows:</p>
<pre style="padding: 0px; color: black; background-color: white; border: white 0px solid">
{
    <span style="color:black"><b>"Elements"</b></span>: {
        <span style="color:blue"><b>"10"</b></span>: {
            <span style="color:green"><b>"name"</b></span> : "NULL3DAUX12",
            <span style="color:green"><b>"conn"</b></span> : [1,2,3,...,11,12],
            <span style="color:green"><b>"attributes"</b></span>: {
                <span style="color:maroon"><b>"area"</b></span>: 10.0,
                <span style="color:maroon"><b>"charge"</b></span>: 0.15,
                <span style="color:maroon"><b>"normal"</b></span>: [1.0, 0.0, 0.0]
            }
        }
    }
}
</pre><p>Now, to make this <a class="el" href="classElement.html" title="Virtual class for creating an element in a mesh. ">Element</a> visible in the <b>Run-Analysis</b>, we first need to add the header file <b>null3DAux12.hpp</b> in <a class="el" href="Parser_8hpp.html">Parser.hpp</a> as </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;null3DAux12.hpp&quot;</span></div></div><!-- fragment --><p>we then need to parse this element format in the <a class="el" href="Parser_8hpp.html">Parser.hpp</a> file. Thus in the <a class="el" href="classElement.html" title="Virtual class for creating an element in a mesh. ">Element</a> section in <a class="el" href="Parser_8hpp.html">Parser.hpp</a>, we need to add </p><div class="fragment"><div class="line"><span class="comment">//Element Objects</span></div><div class="line"><span class="keywordflow">if</span>(strcasecmp(Name.c_str(),<span class="stringliteral">&quot;null3DAux12&quot;</span>) == 0){</div><div class="line">    <span class="comment">//Parse the area field</span></div><div class="line">    <span class="keywordtype">double</span> area = it-&gt;second[<span class="stringliteral">&quot;attributes&quot;</span>][<span class="stringliteral">&quot;area&quot;</span>].as&lt;<span class="keywordtype">double</span>&gt;(); </div><div class="line"></div><div class="line">    <span class="comment">//Parse the charge field      </span></div><div class="line">    <span class="keywordtype">double</span> charge = it-&gt;second[<span class="stringliteral">&quot;attributes&quot;</span>][<span class="stringliteral">&quot;charge&quot;</span>].as&lt;<span class="keywordtype">double</span>&gt;();</div><div class="line"></div><div class="line">    <span class="comment">//Parse the normal field</span></div><div class="line">    std::vector&lt;double&gt; normal(3);</div><div class="line">    normal[0] = it-&gt;second[<span class="stringliteral">&quot;attributes&quot;</span>][<span class="stringliteral">&quot;normal&quot;</span>][0].as&lt;<span class="keywordtype">double</span>&gt;();</div><div class="line">    normal[1] = it-&gt;second[<span class="stringliteral">&quot;attributes&quot;</span>][<span class="stringliteral">&quot;normal&quot;</span>][1].as&lt;<span class="keywordtype">double</span>&gt;();</div><div class="line">    normal[2] = it-&gt;second[<span class="stringliteral">&quot;attributes&quot;</span>][<span class="stringliteral">&quot;normal&quot;</span>][1].as&lt;<span class="keywordtype">double</span>&gt;();</div><div class="line"></div><div class="line">    <span class="comment">//Instantiate the null3DAux12 element.</span></div><div class="line">    theElement = std::make_shared&lt;null3DAux12&gt;(nodes, area, charge, normal);</div><div class="line">}</div></div><!-- fragment --><p>In the previous code we assume the <b>null3DAux12.hpp</b> has a constructor that is called as</p>
<div class="fragment"><div class="line">null3DAux12(nodes, area, charge, normal)</div></div><!-- fragment --><p>Finally, the <a class="el" href="classElement.html" title="Virtual class for creating an element in a mesh. ">Element</a> <b>null3DAux12</b> is ready to be used in your application.</p>
<dl class="section attention"><dt>Attention</dt><dd>The <a class="el" href="classElement.html" title="Virtual class for creating an element in a mesh. ">Element</a> class <b>null3DAux12</b> must be created (<b>null3DAux12.hpp</b>) and implemented (<b>null3DAux12.cpp</b>) and then added in the <code>SVL/02-Run_Process/04-Elements</code> folder. The <b>Run-Analysis</b> must be re-compiled to incorporate the new <a class="el" href="classElement.html" title="Virtual class for creating an element in a mesh. ">Element</a>.</dd>
<dd>
We advice to use an existing derived class. In our example the <b>null3DAux12</b> class is desired to be added, then we recommend to use for instance <a class="el" href="classlin2DQuad4.html" title="Class for creating a 2D linearized four-node quadrilateral element in a mesh. ">lin2DQuad4</a> or <a class="el" href="classlin3DHexa8.html" title="Class for creating a 3D linearized eight-node hexahedron element in a mesh. ">lin3DHexa8</a>. Proper changes in the private member variables, the constructor, and destructor, are required for the definition of the element. Then modification of the member functions to return stiffness, mass, damping matrices as well as internal force vectors are required. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="footer">
					Generated on Tue Jun 29 2021 18:48:01 for Seismo-VLAB by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>
